{"ast":null,"code":"import React,{useState,useEffect,useCallback,useRef}from'react';import{Link,useLocation}from'react-router-dom';import*as EgovNet from'api/egovFetch';import URL from'constants/url';import{GALLERY_BBS_ID}from'config';import{default as EgovLeftNav}from'components/leftmenu/EgovLeftNavAdmin';import EgovPaging from'components/EgovPaging';import{itemIdxByPage}from'utils/calc';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EgovAdminGalleryList(props){var _location$state;console.group(\"EgovAdminGalleryList\");console.log(\"[Start] EgovAdminGalleryList ------------------------------\");console.log(\"EgovAdminGalleryList [props] : \",props);const location=useLocation();console.log(\"EgovAdminGalleryList [location] : \",location);const cndRef=useRef();const wrdRef=useRef();const bbsId=GALLERY_BBS_ID;// eslint-disable-next-line no-unused-vars\nconst[searchCondition,setSearchCondition]=useState(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.searchCondition)||{bbsId:bbsId,pageIndex:1,searchCnd:'0',searchWrd:''});// 기존 조회에서 접근 했을 시 || 신규로 접근 했을 시\nconst[masterBoard,setMasterBoard]=useState({});const[paginationInfo,setPaginationInfo]=useState({});const[listTag,setListTag]=useState([]);const retrieveList=useCallback(searchCondition=>{console.groupCollapsed(\"EgovAdminGalleryList.retrieveList()\");const retrieveListURL='/board'+EgovNet.getQueryString(searchCondition);const requestOptions={method:\"GET\",headers:{'Content-type':'application/json'}};EgovNet.requestFetch(retrieveListURL,requestOptions,resp=>{setMasterBoard(resp.result.brdMstrVO);setPaginationInfo(resp.result.paginationInfo);let mutListTag=[];mutListTag.push(/*#__PURE__*/_jsx(\"p\",{className:\"no_data\",children:\"\\uAC80\\uC0C9\\uB41C \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"},\"0\"));// 게시판 목록 초기값\nconst resultCnt=parseInt(resp.result.resultCnt);const currentPageNo=resp.result.paginationInfo.currentPageNo;const pageSize=resp.result.paginationInfo.pageSize;// 리스트 항목 구성\nresp.result.resultList.forEach(function(item,index){if(index===0)mutListTag=[];// 목록 초기화\nconst listIdx=itemIdxByPage(resultCnt,currentPageNo,pageSize,index);mutListTag.push(/*#__PURE__*/_jsxs(Link,{to:{pathname:URL.ADMIN_GALLERY_DETAIL},state:{nttId:item.nttId,bbsId:item.bbsId,searchCondition:searchCondition},className:\"list_item\",children:[/*#__PURE__*/_jsx(\"div\",{children:listIdx}),(item.replyLc*1?true:false)&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"al reply\",children:item.nttSj})}),(item.replyLc*1?false:true)&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"al\",children:item.nttSj})}),/*#__PURE__*/_jsx(\"div\",{children:item.frstRegisterNm}),/*#__PURE__*/_jsx(\"div\",{children:item.frstRegisterPnttm}),/*#__PURE__*/_jsx(\"div\",{children:item.inqireCo})]},listIdx));});setListTag(mutListTag);},function(resp){console.log(\"err response : \",resp);});console.groupEnd(\"EgovAdminGalleryList.retrieveList()\");},[]);//======================================================\nuseEffect(()=>{retrieveList(searchCondition);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);console.log(\"------------------------------EgovAdminGalleryList [End]\");console.groupEnd(\"EgovAdminGalleryList\");return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"c_wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"location\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.MAIN,className:\"home\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.ADMIN,children:\"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\"})}),/*#__PURE__*/_jsx(\"li\",{children:masterBoard&&masterBoard.bbsNm})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"layout\",children:[/*#__PURE__*/_jsx(EgovLeftNav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents SITE_GALLARY_LIST\",id:\"contents\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top_tit\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"tit_1\",children:\"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"tit_2\",children:masterBoard&&masterBoard.bbsNm}),/*#__PURE__*/_jsx(\"div\",{className:\"condition\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"third_1 L\",children:/*#__PURE__*/_jsx(\"label\",{className:\"f_select\",htmlFor:\"sel1\",children:/*#__PURE__*/_jsxs(\"select\",{id:\"sel1\",title:\"\\uC870\\uAC74\",defaultValue:searchCondition.searchCnd,ref:cndRef,onChange:e=>{cndRef.current.value=e.target.value;},children:[/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"\\uC791\\uC131\\uC790\"})]})})}),/*#__PURE__*/_jsx(\"li\",{className:\"third_2 R\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"f_search w_500\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"\",defaultValue:searchCondition.searchWrd,placeholder:\"\",ref:wrdRef,onChange:e=>{wrdRef.current.value=e.target.value;}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{retrieveList({...searchCondition,pageIndex:1,searchCnd:cndRef.current.value,searchWrd:wrdRef.current.value});},children:\"\\uC870\\uD68C\"})]})}),masterBoard.bbsUseFlag==='Y'&&/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.ADMIN_GALLERY_CREATE,state:{bbsId:bbsId},className:\"btn btn_blue_h46 pd35\",children:\"\\uB4F1\\uB85D\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"board_list BRD002\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"head\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC870\\uD68C\\uC218\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result\",children:listTag})]}),/*#__PURE__*/_jsx(\"div\",{className:\"board_bot\",children:/*#__PURE__*/_jsx(EgovPaging,{pagination:paginationInfo,moveToPage:passedPage=>{retrieveList({...searchCondition,pageIndex:passedPage,searchCnd:cndRef.current.value,searchWrd:wrdRef.current.value});}})})]})]})]})});}export default EgovAdminGalleryList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}