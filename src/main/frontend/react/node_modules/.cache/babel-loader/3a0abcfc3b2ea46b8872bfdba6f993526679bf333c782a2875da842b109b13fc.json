{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import*as EgovNet from'api/egovFetch';import URL from'constants/url';import CODE from'constants/code';import{default as EgovLeftNav}from'components/leftmenu/EgovLeftNavAdmin';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EgovAdminPasswordUpdate(props){console.group(\"EgovAdminPasswordUpdate\");console.log(\"[Start] EgovAdminPasswordUpdate ------------------------------\");console.log(\"EgovAdminPasswordUpdate [props] : \",props);const navigate=useNavigate();const[oldPassword,setOldPassword]=useState('');const[newPassword,setNewPassword]=useState('');const formValidator=formData=>{if(formData.get('old_password')===null||formData.get('old_password')===\"\"){alert(\"기존 암호는 필수 값입니다.\");return false;}if(formData.get('new_password')===null||formData.get('new_password')===\"\"){alert(\"신규 암호는 필수 값입니다.\");return false;}if(formData.get('new_password')===formData.get('old_password')){alert(\"신규 암호는 기존 암호와 동일하게 사용할 수 없습니다.\");return false;}return true;};const updateAdminPassword=()=>{const editURL=\"/adminPassword\";let requestOptions={};const formData=new FormData();formData.append(\"old_password\",oldPassword);formData.append(\"new_password\",newPassword);if(formValidator(formData)){requestOptions={method:\"POST\",headers:{'Content-type':'application/json'},body:JSON.stringify({\"old_password\":oldPassword,\"new_password\":newPassword})};EgovNet.requestFetch(editURL,requestOptions,resp=>{if(Number(resp.resultCode)===Number(CODE.RCV_SUCCESS)){alert(\"OK 다음 로그인 시 신규 암호를 사용하세요.\");navigate({pathname:URL.MAIN},{replace:true});}else{alert(\"Fail 변경되지 않았습니다. 다시 시도해 주세요.\");navigate({pathname:URL.ERROR},{state:{msg:resp.resultMessage}});//에러메세지 변수명 변경\n}});};};useEffect(()=>{// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);console.log(\"------------------------------EgovAdminPasswordUpdate [End]\");console.groupEnd(\"EgovAdminPasswordUpdate\");return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"c_wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"location\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.MAIN,className:\"home\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.ADMIN,children:\"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\"})}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\\uC790 \\uC554\\uD638\\uBCC0\\uACBD\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"layout\",children:[/*#__PURE__*/_jsx(EgovLeftNav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents BOARD_CREATE_REG\",id:\"contents\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top_tit\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"tit_1\",children:\"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"tit_2\",children:\"\\uC0AC\\uC774\\uD2B8\\uAD00\\uB9AC\\uC790 \\uC554\\uD638\\uBCC0\\uACBD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"board_view2\",children:[/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsxs(\"dt\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"oldPassword\",children:\"\\uAE30\\uC874 \\uC554\\uD638\"}),/*#__PURE__*/_jsx(\"span\",{className:\"req\",children:\"\\uD544\\uC218\"})]}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"f_input2 w_full\",type:\"password\",name:\"oldPassword\",title:\"\",id:\"oldPassword\",placeholder:\"\",defaultValue:oldPassword,onChange:e=>setOldPassword(e.target.value)})})]}),/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsxs(\"dt\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"newPassword\",children:\"\\uC2E0\\uADDC \\uC554\\uD638\"}),/*#__PURE__*/_jsx(\"span\",{className:\"req\",children:\"\\uD544\\uC218\"})]}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"f_input2 w_full\",type:\"password\",name:\"newPassword\",title:\"\",id:\"newPassword\",placeholder:\"\",defaultValue:newPassword,onChange:e=>setNewPassword(e.target.value)})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"board_btn_area\",children:/*#__PURE__*/_jsx(\"div\",{className:\"left_col btn1\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn_skyblue_h46 w_100\",onClick:()=>updateAdminPassword(),children:\"\\uBCC0\\uACBD\"})})})]})]})]})]})});}export default EgovAdminPasswordUpdate;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}