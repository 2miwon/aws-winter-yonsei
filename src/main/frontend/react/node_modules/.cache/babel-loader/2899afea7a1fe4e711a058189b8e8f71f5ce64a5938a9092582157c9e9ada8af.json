{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import*as EgovNet from'api/egovFetch';import URL from'constants/url';import CODE from'constants/code';import{GALLERY_BBS_ID}from'config';import{default as EgovLeftNav}from'components/leftmenu/EgovLeftNavInform';import EgovAttachFile from'components/EgovAttachFile';import EgovImageGallery from'components/EgovImageGallery';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EgovGalleryDetail(props){console.groupEnd(\"EgovGalleryDetail\");console.log(\"------------------------------\");console.log(\"EgovGalleryDetail [props] : \",props);const navigate=useNavigate();const location=useLocation();console.log(\"EgovGalleryDetail [location] : \",location);const bbsId=location.state.bbsId||GALLERY_BBS_ID;const nttId=location.state.nttId;const searchCondition=location.state.searchCondition;const[masterBoard,setMasterBoard]=useState({});const[user,setUser]=useState({});const[boardDetail,setBoardDetail]=useState({});const[boardAttachFiles,setBoardAttachFiles]=useState();const retrieveDetail=()=>{const retrieveDetailURL=\"/board/\".concat(bbsId,\"/\").concat(nttId);const requestOptions={method:\"GET\",headers:{'Content-type':'application/json'}};EgovNet.requestFetch(retrieveDetailURL,requestOptions,function(resp){setMasterBoard(resp.result.brdMstrVO);setBoardDetail(resp.result.boardVO);setUser(resp.result.user);setBoardAttachFiles(resp.result.resultFiles);});};const onClickDeleteBoardArticle=(bbsId,nttId)=>{const deleteBoardURL=\"/board/\".concat(bbsId,\"/\").concat(nttId);const requestOptions={method:\"PATCH\",headers:{'Content-type':'application/json'}};EgovNet.requestFetch(deleteBoardURL,requestOptions,resp=>{console.log(\"====>>> board delete= \",resp);if(Number(resp.resultCode)===Number(CODE.RCV_SUCCESS)){alert(\"게시글이 삭제되었습니다.\");navigate(URL.INFORM_GALLERY,{replace:true});}else{navigate({pathname:URL.ERROR},{state:{msg:resp.resultMessage}});}});};useEffect(function(){retrieveDetail();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);console.groupEnd(\"EgovGalleryDetail\");return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"c_wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"location\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.MAIN,className:\"home\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.INFORM,children:\"\\uC54C\\uB9BC\\uB9C8\\uB2F9\"})}),/*#__PURE__*/_jsx(\"li\",{children:masterBoard&&masterBoard.bbsNm})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"layout\",children:[/*#__PURE__*/_jsx(EgovLeftNav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents NOTICE_VIEW\",id:\"contents\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top_tit\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"tit_1\",children:\"\\uC54C\\uB9BC\\uB9C8\\uB2F9\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"tit_2\",children:masterBoard&&masterBoard.bbsNm}),/*#__PURE__*/_jsxs(\"div\",{className:\"board_view\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"board_view_top\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tit\",children:boardDetail&&boardDetail.nttSj}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"\\uC791\\uC131\\uC790\"}),/*#__PURE__*/_jsx(\"dd\",{children:boardDetail&&boardDetail.frstRegisterNm})]}),/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"\\uC791\\uC131\\uC77C\"}),/*#__PURE__*/_jsx(\"dd\",{children:boardDetail&&boardDetail.frstRegisterPnttm})]}),/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"\\uC870\\uD68C\\uC218\"}),/*#__PURE__*/_jsx(\"dd\",{children:boardDetail&&boardDetail.inqireCo})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"board_article\",children:/*#__PURE__*/_jsx(\"textarea\",{name:\"\",cols:\"30\",rows:\"10\",readOnly:\"readonly\",defaultValue:boardDetail&&boardDetail.nttCn})}),/*#__PURE__*/_jsx(EgovImageGallery,{boardFiles:boardAttachFiles}),/*#__PURE__*/_jsx(\"div\",{className:\"board_attach\",children:boardDetail.parnts==='0'&&masterBoard.fileAtchPosblAt==='Y'&&/*#__PURE__*/_jsx(EgovAttachFile,{boardFiles:boardAttachFiles})}),/*#__PURE__*/_jsxs(\"div\",{className:\"board_btn_area\",children:[user.id&&masterBoard.bbsUseFlag==='Y'&&/*#__PURE__*/_jsxs(\"div\",{className:\"left_col btn3\",children:[/*#__PURE__*/_jsx(Link,{to:{pathname:URL.INFORM_GALLERY_MODIFY},state:{nttId:nttId,bbsId:bbsId},className:\"btn btn_skyblue_h46 w_100\",children:\"\\uC218\\uC815\"}),/*#__PURE__*/_jsx(\"a\",{href:\"#!\",className:\"btn btn_skyblue_h46 w_100\",onClick:e=>{e.preventDefault();onClickDeleteBoardArticle(boardDetail.bbsId,boardDetail.nttId);},children:\"\\uC0AD\\uC81C\"}),masterBoard.replyPosblAt==='Y'&&/*#__PURE__*/_jsx(Link,{to:{pathname:URL.INFORM_GALLERY_REPLY},state:{nttId:nttId,bbsId:bbsId},className:\"btn btn_skyblue_h46 w_100\",children:\"\\uB2F5\\uAE00\\uC791\\uC131\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right_col btn1\",children:/*#__PURE__*/_jsx(Link,{to:{pathname:URL.INFORM_GALLERY},state:{nttId:nttId,bbsId:bbsId,searchCondition:searchCondition},className:\"btn btn_blue_h46 w_100\",children:\"\\uBAA9\\uB85D\"})})]})]})]})]})]})});}export default EgovGalleryDetail;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}