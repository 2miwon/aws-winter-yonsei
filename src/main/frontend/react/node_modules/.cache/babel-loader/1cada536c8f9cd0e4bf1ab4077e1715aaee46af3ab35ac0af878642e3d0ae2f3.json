{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useLocation,useNavigate}from'react-router-dom';import*as EgovNet from'api/egovFetch';import URL from'constants/url';import CODE from'constants/code';import{getLocalItem,setLocalItem,setSessionItem}from'utils/storage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EgovLoginContent(props){console.group(\"EgovLoginContent\");console.log(\"[Start] EgovLoginContent ------------------------------\");console.log(\"EgovLoginContent [props] : \",props);const navigate=useNavigate();const location=useLocation();console.log(\"EgovLoginContent [location] : \",location);const[userInfo,setUserInfo]=useState({id:'',password:'default',userSe:'USR'});// eslint-disable-next-line no-unused-vars\nconst[loginVO,setLoginVO]=useState({});const[saveIDFlag,setSaveIDFlag]=useState(false);const checkRef=useRef();const KEY_ID=\"KEY_ID\";const KEY_SAVE_ID_FLAG=\"KEY_SAVE_ID_FLAG\";const handleSaveIDFlag=()=>{setLocalItem(KEY_SAVE_ID_FLAG,!saveIDFlag);setSaveIDFlag(!saveIDFlag);};useEffect(()=>{let idFlag=getLocalItem(KEY_SAVE_ID_FLAG);if(idFlag===null){setSaveIDFlag(false);// eslint-disable-next-line react-hooks/exhaustive-deps\nidFlag=false;}else{setSaveIDFlag(idFlag);}if(idFlag===false){setLocalItem(KEY_ID,\"\");checkRef.current.className=\"f_chk\";}else{checkRef.current.className=\"f_chk on\";};},[]);useEffect(()=>{let data=getLocalItem(KEY_ID);if(data!==null){setUserInfo({id:data,password:'default',userSe:'USR'});}},[]);const submitFormHandler=e=>{console.log(\"EgovLoginContent submitFormHandler()\");const loginUrl=\"/auth/login-jwt\";const requestOptions={method:\"POST\",headers:{'Content-type':'application/json'},body:JSON.stringify(userInfo)};EgovNet.requestFetch(loginUrl,requestOptions,resp=>{let resultVO=resp.resultVO;let jToken=(resp===null||resp===void 0?void 0:resp.jToken)||null;setSessionItem('jToken',jToken);if(Number(resp.resultCode)===Number(CODE.RCV_SUCCESS)){//setLoginVO(resultVO);\nsetSessionItem('loginUser',resultVO);props.onChangeLogin(resultVO);if(saveIDFlag)setLocalItem(KEY_ID,resultVO===null||resultVO===void 0?void 0:resultVO.id);navigate(URL.MAIN);// PC와 Mobile 열린메뉴 닫기\ndocument.querySelector('.all_menu.WEB').classList.add('closed');document.querySelector('.btnAllMenu').classList.remove('active');document.querySelector('.btnAllMenu').title='전체메뉴 닫힘';document.querySelector('.all_menu.Mobile').classList.add('closed');}else{alert(resp.resultMessage);}});};console.log(\"------------------------------EgovLoginContent [End]\");console.groupEnd(\"EgovLoginContent\");return/*#__PURE__*/_jsx(\"div\",{className:\"contents\",id:\"contents\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Plogin\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"txt\",children:[\"\\uC804\\uC790\\uC815\\uBD80\\uD45C\\uC900\\uD504\\uB808\\uC784\\uC6CC\\uD06C \\uACBD\\uB7C9\\uD658\\uACBD \\uD648\\uD398\\uC774\\uC9C0 \\uB85C\\uADF8\\uC778 \\uD398\\uC774\\uC9C0\\uC785\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uB85C\\uADF8\\uC778\\uC744 \\uD558\\uC2DC\\uBA74 \\uBAA8\\uB4E0 \\uC11C\\uBE44\\uC2A4\\uB97C \\uC81C\\uD55C\\uC5C6\\uC774 \\uC774\\uC6A9\\uD558\\uC2E4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"login_box\",children:/*#__PURE__*/_jsx(\"form\",{name:\"\",method:\"\",action:\"\",children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:\"\\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"\",title:\"\\uC544\\uC774\\uB514\",placeholder:\"\\uC544\\uC774\\uB514\",value:userInfo===null||userInfo===void 0?void 0:userInfo.id,onChange:e=>setUserInfo({...userInfo,id:e.target.value})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"\",title:\"\\uBE44\\uBC00\\uBC88\\uD638\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:e=>setUserInfo({...userInfo,password:e.target.value})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"chk\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"f_chk\",htmlFor:\"saveid\",ref:checkRef,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"\",id:\"saveid\",onChange:handleSaveIDFlag,checked:saveIDFlag}),\" \",/*#__PURE__*/_jsx(\"em\",{children:\"ID\\uC800\\uC7A5\"})]})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:submitFormHandler,children:/*#__PURE__*/_jsx(\"span\",{children:\"LOGIN\"})})]})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"list\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\uBE44\\uBC00\\uBC88\\uD638\\uB294 6~12\\uC790\\uC758 \\uC601\\uBB38 \\uB300/\\uC18C\\uBB38\\uC790, \\uC22B\\uC790, \\uD2B9\\uC218\\uBB38\\uC790\\uB97C \\uD63C\\uD569\\uD574\\uC11C \\uC0AC\\uC6A9\\uD558\\uC2E4 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC26C\\uC6B4 \\uBE44\\uBC00\\uBC88\\uD638\\uB098 \\uC790\\uC8FC \\uC4F0\\uB294 \\uC0AC\\uC774\\uD2B8\\uC758 \\uBE44\\uBC00\\uBC88\\uD638\\uAC00 \\uAC19\\uC744 \\uACBD\\uC6B0, \\uB3C4\\uC6A9\\uB418\\uAE30 \\uC26C\\uC6B0\\uBBC0\\uB85C \\uC8FC\\uAE30\\uC801\\uC73C\\uB85C \\uBCC0\\uACBD\\uD558\\uC154\\uC11C \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uC774 \\uC88B\\uC2B5\\uB2C8\\uB2E4.\"})]})]})});}export default EgovLoginContent;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}