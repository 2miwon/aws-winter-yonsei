{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{Link,useLocation}from'react-router-dom';import*as EgovNet from'api/egovFetch';import URL from'constants/url';import CODE from'constants/code';import{default as EgovLeftNav}from'components/leftmenu/EgovLeftNavInform';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EgovDailyList(props){var _location$state;console.group(\"EgovDailyDetail\");console.log(\"[Start] EgovDailyDetail ------------------------------\");console.log(\"EgovDailyDetail [props] : \",props);const location=useLocation();console.log(\"EgovDailyDetail [location] : \",location);const DATE=new Date();const TODAY=new Date(DATE.getFullYear(),DATE.getMonth(),DATE.getDate());const[searchCondition,setSearchCondition]=useState(((_location$state=location.state)===null||_location$state===void 0?void 0:_location$state.searchCondition)||{schdulSe:'',year:TODAY.getFullYear(),month:TODAY.getMonth(),date:TODAY.getDate()});const[scheduleList,setScheduleList]=useState([]);const[listTag,setListTag]=useState([]);const changeDate=(target,amount)=>{let changedDate;if(target===CODE.DATE_YEAR){changedDate=new Date(searchCondition.year+amount,searchCondition.month,searchCondition.date);}if(target===CODE.DATE_MONTH){changedDate=new Date(searchCondition.year,searchCondition.month+amount,searchCondition.date);}if(target===CODE.DATE_DATE){changedDate=new Date(searchCondition.year,searchCondition.month,searchCondition.date+amount);}setSearchCondition({...searchCondition,year:changedDate.getFullYear(),month:changedDate.getMonth(),date:changedDate.getDate()});};const drawList=useCallback(()=>{let mutListTag=[];mutListTag.push(/*#__PURE__*/_jsx(\"p\",{className:\"no_data\",children:\"\\uAC80\\uC0C9\\uB41C \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"},\"0\"));// 게시판 목록 초기값\nlet listCnt=0;// 리스트 항목 구성\nscheduleList.forEach(function(item,index){if(index===0)mutListTag=[];// 목록 초기화\nlistCnt++;mutListTag.push(/*#__PURE__*/_jsxs(Link,{to:{pathname:URL.INFORM_DAILY_DETAIL},state:{schdulId:item.schdulId,prevPath:URL.INFORM_DAILY},className:\"list_item\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[getTimeForm(item.schdulBgnde),\" ~ \",getTimeForm(item.schdulEndde)]}),/*#__PURE__*/_jsx(\"div\",{className:\"al\",children:item.schdulNm}),/*#__PURE__*/_jsx(\"div\",{children:item.userNm})]},listCnt));});setListTag(mutListTag);},[scheduleList]);const retrieveList=useCallback(srchcnd=>{console.groupCollapsed(\"EgovDailyDetail.retrieveList()\");const retrieveListURL='/schedule/daily'+EgovNet.getQueryString(srchcnd);const requestOptions={method:\"GET\",headers:{'Content-type':'application/json'}};EgovNet.requestFetch(retrieveListURL,requestOptions,resp=>{setScheduleList(resp.result.resultList);drawList();},function(resp){console.log(\"err response : \",resp);});console.groupEnd(\"EgovDailyDetail.retrieveList()\");},[drawList]);const Location=/*#__PURE__*/React.memo(function Location(){return/*#__PURE__*/_jsx(\"div\",{className:\"location\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.MAIN,className:\"home\",children:\"Home\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:URL.INFORM,children:\"\\uC54C\\uB9BC\\uB9C8\\uB2F9\"})}),/*#__PURE__*/_jsx(\"li\",{children:\"\\uC624\\uB298\\uC758 \\uD589\\uC0AC\"})]})});});const getTimeForm=str=>{let hour=str.substring(8,10);let starminute=str.substring(10,12);return hour+\":\"+starminute;};useEffect(()=>{retrieveList(searchCondition);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[searchCondition]);useEffect(()=>{drawList();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[scheduleList]);console.log(\"------------------------------EgovDailyDetail [End]\");console.groupEnd(\"EgovDailyDetail\");return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"c_wrap\",children:[/*#__PURE__*/_jsx(Location,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"layout\",children:[/*#__PURE__*/_jsx(EgovLeftNav,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"contents TODAY_SCHEDULE\",id:\"contents\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"top_tit\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"tit_1\",children:\"\\uC54C\\uB9BC\\uB9C8\\uB2F9\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"tit_2\",children:\"\\uC624\\uB298\\uC758 \\uD589\\uC0AC\"}),/*#__PURE__*/_jsx(\"div\",{className:\"condition\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"label\",{className:\"f_select\",htmlFor:\"sel1\",children:/*#__PURE__*/_jsxs(\"select\",{name:\"schdulSe\",id:\"sel1\",title:\"\\uC870\\uAC74\",onChange:e=>{setSearchCondition({...searchCondition,schdulSe:e.target.value});},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\uC804\\uCCB4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\uD68C\\uC758\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"\\uC138\\uBBF8\\uB098\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"\\uAC15\\uC758\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"\\uAD50\\uC721\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"\\uAE30\\uD0C0\"})]})})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"prev\",onClick:()=>{changeDate(CODE.DATE_YEAR,-1);}}),/*#__PURE__*/_jsxs(\"span\",{children:[searchCondition.year,\"\\uB144\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"next\",onClick:()=>{changeDate(CODE.DATE_YEAR,1);}})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"half L\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"prev\",onClick:()=>{changeDate(CODE.DATE_MONTH,-1);}}),/*#__PURE__*/_jsxs(\"span\",{children:[searchCondition.month+1,\"\\uC6D4\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"next\",onClick:()=>{changeDate(CODE.DATE_MONTH,1);}})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"half R\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"prev\",onClick:()=>{changeDate(CODE.DATE_DATE,-1);}}),/*#__PURE__*/_jsxs(\"span\",{children:[searchCondition.date,\"\\uC77C\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"next\",onClick:()=>{changeDate(CODE.DATE_DATE,1);}})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"board_list BRD001\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"head\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"\\uC2DC\\uAC04\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uB2F4\\uB2F9\\uC790\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"result\",children:listTag})]})]})]})]})});}export default EgovDailyList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}