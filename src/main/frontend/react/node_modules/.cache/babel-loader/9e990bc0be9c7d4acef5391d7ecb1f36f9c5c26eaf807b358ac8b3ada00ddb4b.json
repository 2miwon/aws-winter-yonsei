{"ast":null,"code":"// SearchResult.jsx\nimport React,{useState,useEffect}from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{fetchSearchResults}from'api/search';import'../../css/searchResult.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchResult(){const[searchResults,setSearchResults]=useState([]);const[count,setCount]=useState(0);const[sort,setSort]=useState('RANK');const[pageSize]=useState(10);const location=useLocation();const navigate=useNavigate();const queryParams=new URLSearchParams(location.search);const query=queryParams.get('query');const page=queryParams.get('page');useEffect(()=>{if(query){const fetchResults=async()=>{try{const data=await fetchSearchResults(query,page,sort);setSearchResults(data.result);setCount(data.total);}catch(error){console.error('Error fetching search results:',error);}};fetchResults();}},[query,page,sort]);const totalPages=Math.ceil(count/pageSize);const MAX_PAGE_NUM_DISPLAY=10;// 한 번에 보여줄 최대 페이지 번호 개수\nconst startPage=Math.floor(page/MAX_PAGE_NUM_DISPLAY)*MAX_PAGE_NUM_DISPLAY;const handlePageChange=newPage=>{navigate(\"?query=\".concat(query,\"&page=\").concat(newPage));// URL을 업데이트하여 현재 페이지 상태를 반영\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"search-results\",children:[searchResults.map(result=>{var _result$status;return/*#__PURE__*/_jsxs(Link,{to:\"/DetailPage/\".concat(result.bill_no),className:\"bn\".concat((_result$status=result.status)!==null&&_result$status!==void 0?_result$status:3),children:[/*#__PURE__*/_jsx(\"strong\",{children:result.title}),/*#__PURE__*/_jsxs(\"span\",{children:[result.date,/*#__PURE__*/_jsx(\"br\",{}),result.speaker,/*#__PURE__*/_jsx(\"br\",{}),result.contents,\"=\"]})]});}),searchResults.length===0&&/*#__PURE__*/_jsx(\"p\",{style:{alignContent:'center'},children:\"\\uAC80\\uC0C9 \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[startPage>0&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(startPage-1),children:\"\\uC774\\uC804\"}),Array.from({length:Math.min(MAX_PAGE_NUM_DISPLAY,totalPages-startPage)},(_,i)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(i+startPage),disabled:i+startPage===page,children:i+startPage+1},i+startPage)),startPage+MAX_PAGE_NUM_DISPLAY<totalPages&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePageChange(startPage+MAX_PAGE_NUM_DISPLAY),children:\"\\uB2E4\\uC74C\"})]})]});}export default SearchResult;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}